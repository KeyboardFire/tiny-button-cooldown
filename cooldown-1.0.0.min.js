/*
 * cooldown-1.0.0.min.js
 * @author Keyboard Fire <http://keyboardfire.com>
 * @license MIT
 */
function Cooldown(a){a||(a={});a.padding||(a.padding=0);a.buttons||(a.buttons=$());a.buttons=$(a.buttons);for(x in a)if("function"===typeof this[x])this[x](a[x]);else this[x]=a[x];this.initialize()}Cooldown.prototype.initialize=function(){this.setupButtons();this.toAutoSetupAllInInitialize&&this._autoSetupAll();return this};
Cooldown.prototype.setupButtons=function(){this.buttons.css({padding:this.padding+"px",position:"relative"}).append($("<div>").text("\u00a0").addClass("_tiny_button_cooldown_progress-bar").css({fontSize:"1px",position:"absolute",top:"0px",left:"0px",width:"0px",height:"0px"}));return this};Cooldown.prototype.autoSetup=function(a,c){var b=this;$(a).click(function(){b.cooldown(a,c)});return this};Cooldown.prototype.autoSetupAll=function(a){this.toAutoSetupAllInInitialize=a;return this};
Cooldown.prototype._autoSetupAll=function(){var a=this;this.buttons.each(function(){a.autoSetup(this)})};
Cooldown.prototype.cooldown=function(a,c){c||(c={});a=$(a);if(!a.is("[disabled]")){var b=c.length||a.attr("data-cooldown")||this.length;if(!b)throw Error("Error: cooldown: cannot find a cooldown length");var b=b+"",b=-1<b.indexOf(".")?parseFloat(b):parseInt(b),d=c.color||a.attr("data-cooldown-color")||this.color||"#000",e=parseFloat(c.opacity||a.attr("data-cooldown-opacity")||this.opacity||.5);a.attr("disabled","disabled");$("._tiny_button_cooldown_progress-bar",a).css({backgroundColor:d,opacity:e,
height:a.height()+2*this.padding+"px",width:a.width()+2*this.padding+"px"}).animate({width:0},{duration:1E3*b,easing:"linear",complete:function(){a.removeAttr("disabled");c.callback&&c.callback(a)}});return this}};